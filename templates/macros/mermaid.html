{% macro mermaid() %}
    {% if page.extra.mermaid %}
        <script>
        function initMermaid() {
          var config = {
            startOnLoad: true,
            theme: "forest",
            flowchart:{
              useMaxWidth: true,
              htmlLabels: true
            }
          };
          mermaid.initialize(config);
          window.mermaid.init(undefined, document.querySelectorAll('.mermaid'));
        }
        </script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/mermaid/10.2.3/mermaid.min.js"
          async
          onload="initMermaid()">
        </script>
    {% endif %}
{% endmacro %}
